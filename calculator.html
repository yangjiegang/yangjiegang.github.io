<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>简易计算器</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.css"/>
<style>
.content{margin:10px auto;width:175px;height:185px;padding:5px;border:solid 3px #908a8a; border-radius:5px; border-shadow:2px;}
button{width:40px;}
.input-group{width:157px;}
#basic-addon2{cursor:pointer;}
</style>
</head>

<body>
<div class="content">

	<div class="input-group">
	  <input type="text" class="form-control" placeholder="0" aria-describedby="basic-addon2">
	  <span class="input-group-addon" id="basic-addon2">=</span>
	</div>
	
	<div class="btn-group" role="group" aria-label="...">
	  <button type="button" class="btn btn-default">1</button>
	  <button type="button" class="btn btn-default">2</button>
	  <button type="button" class="btn btn-default">3</button>
	  <button type="button" class="btn btn-info">+</button>
	</div>
	<br>
	
	<div class="btn-group" role="group" aria-label="...">
	  <button type="button" class="btn btn-default">4</button>
	  <button type="button" class="btn btn-default">5</button>
	  <button type="button" class="btn btn-default">6</button>
	  <button type="button" class="btn btn-info">-</button> 
	</div>
	<br>
	<div class="btn-group" role="group" aria-label="...">
	  <button type="button" class="btn btn-default">7</button>
	  <button type="button" class="btn btn-default">8</button>
	  <button type="button" class="btn btn-default">9</button>
	  <button type="button" class="btn btn-info">*</button>
	</div>
	<br>
	<div class="btn-group" role="group" aria-label="...">
	  <button type="button" class="btn btn-default">0</button>
	  <button type="button" class="btn btn-warning" id="dot">.</button>
	  <button type="button" class="btn btn-warning" id="clr">C</button>
	  <button type="button" class="btn btn-info">/</button> 
	</div>

</div>

<script src="js/jquery.js"></script>
<script src="js/bootstrap.js"></script>
<script>
	var btn=$(".btn-default");
	var input=$(".form-control");
	var ret="";
	var equal=$(".input-group-addon");
	var opt=true;
	var dot=$("#dot");
	var clr=$("#clr");
	var mark = $(".btn-info");	
	input.val("0");
	btn.bind("click",function(){
		var num=$(this).text();
		ret+=num;
		input.val(ret);
	});	
	dot.bind("click",function(){
		if(opt){
			var num=$(this).text();
			ret+=num;
			input.val(ret);
			opt=false;
		}else{
			return;
		}	
	});
	mark.bind("click",function(){
		var txt =""+input.val();
		var arr=txt.split(''); 
		var num=$(this).text();
		var arr2=[];
		mark.each(function(){
			num2=$(this).text();
			arr2.push(num2);
		});

		var judge = $.inArray(arr[arr.length-1],arr2);
		if (judge == -1){
			ret+=num;
			input.val(ret);
		}else{console.log(judge);}

	});
	equal.bind("click",function(){
		var end = ""+eval(ret);
		var show = input.val(end);
		ret = "";
		var doter =".";
		//console.log(typeof(end));
		opt = end.indexOf(doter) == -1 ? true:false;
	});
	clr.bind("click",function(){
		input.val("0");	
		ret="";
	});
</script>
</body>
</html>
